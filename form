local Player = game:GetService('Players').LocalPlayer
local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/shlexware/Orion/main/source')))()
_G.AutoFarm = false

function Punch() game:GetService("Players").LocalPlayer.Character.Punch.Event:FireServer(unpack({[1]=2})) end

function GetArea()
    local area = nil
    local PlayerPower = Player.leaderstats.Power.Value

    for i, v in ipairs(game:GetService("Workspace").IgnoreParts.TrainingAreas:GetChildren()) do
        if v ~= game:GetService("Workspace").IgnoreParts.TrainingAreas.TrainingAreasScript then
            local AreaRequirement = v.Requirement.Value
            if AreaRequirement <= PlayerPower then
                area = v.GuiPart.CFrame
            end
        end
    end
    
    return area
end

function Teleport(position) Player.Character.HumanoidRootPart.CFrame = position end

function Equip(toolname)
    local tool = Player.Backpack:FindFirstChild(toolname)
    if tool then
        Player.Character.Humanoid:EquipTool(tool)
    end
end

function IsEquipped(toolname)
    for _, tool in ipairs(Player.Character:GetChildren()) do
        if tool:IsA("Tool") and tool.Name == toolname then
            return true
        end
    end
    
    return false
end

function alive()
    if Player.Character:FindFirstChildOfClass("Humanoid") and Player.Character then
        return true
    end
    return false
end

local Window = OrionLib:MakeWindow({Name = "Akashia Hub"})

local MainTab = Window:MakeTab({
	Name = "Main",
	Icon = "rbxassetid://4483345998",
	PremiumOnly = false
})

MainTab:AddToggle({
	Name = "Auto Farm",
	Default = false,
	Callback = function(Value)
        _G.AutoFarm = Value
        
        while _G.AutoFarm do
            local area = GetArea()
            local tool = "Punch"

            while not alive() do
                wait(1)
            end


            while wait() do
                if not _G.AutoFarm then
                    Player.Character.Humanoid:UnequipTools()
                    break
                end
                
                if Player.Character.HumanoidRootPart.CFrame.X ~= area.X or Player.Character.HumanoidRootPart.CFrame.Z ~= area.Z and alive() then
                    Teleport(area)
                end
                
                if not IsEquipped(tool) then
                    Equip(tool)
                end

                if game:GetService("Players").LocalPlayer.Character:FindFirstChild("Punch") then Punch() end
            end
        end

        if not _G.AutoFarm then
            Player.Character.Humanoid:UnequipTools()
        end
    end
})
